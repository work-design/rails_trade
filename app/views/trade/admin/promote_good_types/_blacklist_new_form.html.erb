<%= form_with model: @blacklist, scope: :promote_good, url: { action: 'blacklist_create' }, data: { controller: 'equal', equal_plus_value: { years: 1 }.to_json } do |f| %>
  <%= render 'error_messages', target: f.object  %>
  <%= f.datetime_field :effect_at, data: { action: 'change->equal#updateTime' }, step: 1 %>
  <%= f.datetime_field :expire_at, data: { equal_target: 'goal' }, step: 1 %>
  <div class="field is-horizontal">
    <div class="field-label is-normal">
      <label class="label">商品</label>
    </div>
    <div class="field-body">
      <div class="panel" data-controller="typer" data-typer-url-value="<%= url_for(action: 'blacklist_search', id: @promote_good.id) %>" data-typer-method-value="post">
        <%= f.hidden_field :good_id, data: { typer_target: 'value' } %>
        <div class="control has-icons-left">
          <%= search_field_tag 'name-like', nil, class: 'input', placeholder: '搜索', data: { typer_target: 'input' } %>
          <span class="icon is-left"><i class="fa-light fa-search"></i></span>
        </div>
        <div class="panel" id="user_content"></div>
      </div>
    </div>
  </div>
  <%= f.submit %>
<% end %>
