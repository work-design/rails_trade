<div id="dialog" data-controller="modal" class="modal is-mobile">
  <div class="modal-background" data-action="click->modal#hide"></div>
  <div class="modal-card">
    <header class="modal-card-head">
      <div class="modal-card-title">优惠明细</div>
      <button class="delete" data-action="modal#hide"></button>
    </header>
    <section class="modal-card-body">
      <table class="table is-fullwidth is-borderless as-show">
        <tr>
          <td><%= Trade::Cart.human_attribute_name(:original_amount) %></td>
          <td class="has-text-danger"><%= @cart.original_amount.to_money.format.html_safe %></td>
        </tr>
        <tr>
          <td><%= Trade::Cart.human_attribute_name(:overall_reduced_amount) %></td>
          <td class="has-text-danger"><%= @cart.overall_reduced_amount.to_money.format.html_safe %></td>
        </tr>
        <% @cart.cart_promotes.each do |cart_promote| %>
        <tr class="pl-4" title="<%= cart_promote.id %>">
          <td><%= cart_promote.promote.name %></td>
          <td class="has-text-grey"><%= cart_promote.amount.to_money.format.html_safe %></td>
        </tr>
        <% end %>
        <tr>
          <td><%= Trade::Cart.human_attribute_name(:amount) %></td>
          <td class="has-text-danger"><%= @cart.amount.to_money.format.html_safe %></td>
        </tr>
      </table>
    </section>
  </div>
</div>
